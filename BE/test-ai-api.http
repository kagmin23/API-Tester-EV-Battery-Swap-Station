### 
### AI API TESTING - REST Client
### Install: VS Code Extension "REST Client" by Huachao Mao
### C√°ch d√πng: Click "Send Request" b√™n tr√™n m·ªói request
###

@baseUrl = http://localhost:3000
@token = YOUR_TOKEN_HERE

### ============================================
### STEP 1: Login ƒë·ªÉ l·∫•y token
### ============================================

POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "your_password"
}

### üìù Copy access_token t·ª´ response v√†o @token ·ªü tr√™n


### ============================================
### STEP 2: Check Model Status
### ============================================

GET {{baseUrl}}/api/ai/model/status
Authorization: Bearer {{token}}


### ============================================
### STEP 3: Train Model (Ch·∫°y l·∫ßn ƒë·∫ßu)
### ============================================

POST {{baseUrl}}/api/ai/train
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "daysBack": 90,
  "stationId": null
}

### ‚è±Ô∏è Training s·∫Ω m·∫•t 2-5 ph√∫t
### Expected MAPE: < 10% (Excellent)


### ============================================
### STEP 4: Get All Stations (ƒë·ªÉ l·∫•y stationId)
### ============================================

GET {{baseUrl}}/api/stations/all
Authorization: Bearer {{token}}

### üìù Copy m·ªôt stationId t·ª´ response


### ============================================
### STEP 5: Forecast Demand cho 1 tr·∫°m
### ============================================

POST {{baseUrl}}/api/ai/forecast/demand
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "stationId": "YOUR_STATION_ID",
  "periods": 168
}

### Test v·ªõi periods kh√°c nhau:
### 24 = 1 ng√†y, 72 = 3 ng√†y, 168 = 7 ng√†y


### ============================================
### STEP 6: Get Capacity Recommendation (1 tr·∫°m)
### ============================================

POST {{baseUrl}}/api/ai/recommendations/capacity
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "stationId": "YOUR_STATION_ID",
  "bufferRate": 0.2
}

### bufferRate: 0.2 = 20% d·ª± ph√≤ng


### ============================================
### STEP 7: Get All Recommendations
### ============================================

GET {{baseUrl}}/api/ai/recommendations/all
Authorization: Bearer {{token}}

### Tr·∫£ v·ªÅ t·∫•t c·∫£ tr·∫°m sorted by priority


### ============================================
### STEP 8: Test v·ªõi station kh√°c
### ============================================

POST {{baseUrl}}/api/ai/forecast/demand
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "stationId": "ANOTHER_STATION_ID",
  "periods": 24
}


### ============================================
### ADVANCED: Retrain v·ªõi √≠t data h∆°n
### ============================================

POST {{baseUrl}}/api/ai/train
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "daysBack": 60,
  "stationId": null,
  "forceRetrain": true
}


### ============================================
### ADVANCED: Test v·ªõi bufferRate kh√°c
### ============================================

POST {{baseUrl}}/api/ai/recommendations/capacity
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "stationId": "YOUR_STATION_ID",
  "bufferRate": 0.3
}

### bufferRate c√†ng cao = recommend capacity c√†ng l·ªõn


### ============================================
### ERROR TESTING: Invalid stationId
### ============================================

POST {{baseUrl}}/api/ai/forecast/demand
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "stationId": "invalid_id_123",
  "periods": 24
}

### Expected: Error response


### ============================================
### ERROR TESTING: No token
### ============================================

GET {{baseUrl}}/api/ai/model/status

### Expected: 401 Unauthorized

